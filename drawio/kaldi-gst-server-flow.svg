<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="741px" height="1622px" viewBox="-0.5 -0.5 741 1622" content="&lt;mxfile host=&quot;www.draw.io&quot; modified=&quot;2020-02-25T06:51:48.186Z&quot; agent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.79 Safari/537.36&quot; etag=&quot;33aicSQqQm4geQj8-Gcz&quot; version=&quot;12.7.4&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;aqwdoti7EvADqkf6JMts&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://www.draw.io/?mode=github#Halkazap%2Fdrawio-github%2Fmaster%2Fkaldi-gst-server-flow.svg"><defs/><g><rect x="310" y="80" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 90px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">New worker WebSocket is opened</span></div></div></div></foreignObject><text x="430" y="92" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">New worker WebSocket is opened</text></switch></g><rect x="50" y="170" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 180px; margin-left: 51px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">New client WebSocket is opened</span></div></div></div></foreignObject><text x="170" y="182" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">New client WebSocket is opened</text></switch></g><rect x="570" y="130" width="120" height="120" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 137px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><u>create_pipeline()</u><br />1. Create new GST elements<br />2. Check GST plugin path<br />3. Customize GST elements' properties<br />4. Create empty GST pipeline, add elements to it<br />5. Link elements with each other following data flow<br />6. Create bus and connect several handlers<br />7. Set pipeline STATE = READY<br />Â </div></div></div></foreignObject><text x="572" y="145" fill="#000000" font-family="Helvetica" font-size="8px">create_pipeline()...</text></switch></g><rect x="570" y="340" width="120" height="100" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 347px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>init_request()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Get/set request id and media type</div><div style="font-size: 8px">2. Choose whether to write incoming data to a file</div><div style="font-size: 8px">3. Initialize GST pipelineÂ </div><div style="font-size: 8px">(set pipeline STATE = PLAYING &amp; push empty buffer into the appsrc)</div></font></div></div></div></foreignObject><text x="572" y="355" fill="#000000" font-family="Helvetica" font-size="8px">init_request()1. Get/set requ...</text></switch></g><rect x="570" y="500" width="120" height="50" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 507px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>process_data()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Copy data to a new empty buffer at 0 offset</div><div style="font-size: 8px">2. Push buffer into the appsrc<br /></div></font></div></div></div></foreignObject><text x="572" y="515" fill="#000000" font-family="Helvetica" font-size="8px">process_data()1. Copy data to...</text></switch></g><path d="M 550 130 L 570 130" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="100" width="120" height="30" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 107px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>opened()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Set STATE = CONNECTED</div></font></div></div></div></foreignObject><text x="432" y="115" fill="#000000" font-family="Helvetica" font-size="8px">opened()- Set STATE = CONNECT...</text></switch></g><path d="M 550 340 L 570 340" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="270" width="120" height="70" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 277px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>received_message()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px"><span>1. Initialize request inÂ </span></div><b>decoder</b><div style="font-size: 8px">2. Start timeout guard inÂ <b>new thread</b></div><div style="font-size: 8px">3. Set STATE = INITIALIZED</div></font></div></div></div></foreignObject><text x="432" y="285" fill="#000000" font-family="Helvetica" font-size="8px">received_message()1. Initiali...</text></switch></g><path d="M 550 500 L 570 500" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="460" width="120" height="40" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 467px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>received_message()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Process data inÂ <b>decoder</b></div><div style="font-size: 8px"><span>2. Set STATE = PROCESSING</span></div></font></div></div></div></foreignObject><text x="432" y="475" fill="#000000" font-family="Helvetica" font-size="8px">received_message()1. Process...</text></switch></g><rect x="50" y="730" width="100" height="30" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 737px; margin-left: 52px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>received_message()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Get response</div></font></div></div></div></foreignObject><text x="52" y="745" fill="#000000" font-family="Helvetica" font-size="8px">received_message()- Get...</text></switch></g><rect x="50" y="190" width="100" height="40" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 197px; margin-left: 52px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>opened()</u></span></div><div style="font-size: 8px"><span style="font-size: 8px">- Start <u>send_data_to_ws()</u> in <b>new thread</b></span></div></div></div></div></foreignObject><text x="52" y="205" fill="#000000" font-family="Helvetica" font-size="8px">opened()...</text></switch></g><rect x="170" y="430" width="120" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 437px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>on_message()</u></span></div><font style="font-size: 8px">- Write<span>Â message to worker</span><br /></font></div></div></div></foreignObject><text x="172" y="445" fill="#000000" font-family="Helvetica" font-size="8px">on_message()- WriteÂ message t...</text></switch></g><path d="M 298 1620 L 298 40 M 302 40 L 302 1620 M 302 40" fill="none" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="all"/><rect x="280" y="0" width="40" height="20" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 10px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Server</div></div></div></foreignObject><text x="300" y="14" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Server</text></switch></g><rect x="540" y="40" width="40" height="20" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 50px; margin-left: 541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Worker</div></div></div></foreignObject><text x="560" y="54" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Worker</text></switch></g><rect x="20" y="130" width="40" height="20" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 140px; margin-left: 21px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Client</div></div></div></foreignObject><text x="40" y="144" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Client</text></switch></g><path d="M 40 1620 L 40 170" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 560 1620 L 560 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><rect x="170" y="190" width="120" height="80" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 197px; margin-left: 171px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px"><u>open()</u></span></div><font style="font-size: 8px"><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">1. Generate a random UUID for this client</span></div><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">2. Get/set available worker for thisÂ </span><span>client, send status update</span></div><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">3. Set this client for worker</span></div><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">4. Write message to worker</span></div></font></div></div></div></foreignObject><text x="230" y="205" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle">open()1. Generate a random UU...</text></switch></g><rect x="310" y="100" width="100" height="50" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 107px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px"><u>open()</u></span></div><font style="font-size: 8px"><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">- Add this worker to available workers list, send status update</span></div></font></div></div></div></foreignObject><text x="360" y="115" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle">open()- Add this worker...</text></switch></g><path d="M 550 100 L 316.37 100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 311.12 100 L 318.12 96.5 L 316.37 100 L 318.12 103.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 50 190 L 283.63 190" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 288.88 190 L 281.88 193.5 L 283.63 190 L 281.88 186.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="150" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 160px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">WebSocketClient</span></div></div></div></foreignObject><text x="40" y="162" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">WebSocketClient</text></switch></g><rect x="520" y="60" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 70px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">WebSocketClient</span></div></div></div></foreignObject><text x="560" y="72" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">WebSocketClient</text></switch></g><rect x="260" y="20" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 30px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">WebSocketHandler</span></div></div></div></foreignObject><text x="300" y="32" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">WebSocketHandler</text></switch></g><rect x="310" y="700" width="100" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 707px; margin-left: 312px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>on_message()</u></span></div><font style="font-size: 8px">- Write<span>Â message to client</span><br /></font></div></div></div></foreignObject><text x="312" y="715" fill="#000000" font-family="Helvetica" font-size="8px">on_message()- WriteÂ mess...</text></switch></g><path d="M 310 270 L 543.63 270" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 548.88 270 L 541.88 273.5 L 543.63 270 L 541.88 266.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 290 730 L 56.37 730" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 51.12 730 L 58.12 726.5 L 56.37 730 L 58.12 733.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="600" y="90" width="60" height="20" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 100px; margin-left: 601px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Decoder (GMM)</div></div></div></foreignObject><text x="630" y="103" fill="#000000" font-family="Helvetica" font-size="10px" text-anchor="middle">Decoder (GMM)</text></switch></g><rect x="50" y="400" width="100" height="30" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 407px; margin-left: 52px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>send_data_to_ws()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Send data to server</div></font></div></div></div></foreignObject><text x="52" y="415" fill="#000000" font-family="Helvetica" font-size="8px">send_data_to_ws()- Send...</text></switch></g><path d="M 50 430 L 283.63 430" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 288.88 430 L 281.88 433.5 L 283.63 430 L 281.88 426.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 460 L 543.63 460" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 548.88 460 L 541.88 463.5 L 543.63 460 L 541.88 456.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="600" y="110" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 120px; margin-left: 601px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Object</span></div></div></div></foreignObject><text x="630" y="122" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Object</text></switch></g><path d="M 700 1620 L 700 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><rect x="680" y="40" width="40" height="20" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 50px; margin-left: 681px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Kaldi</div></div></div></foreignObject><text x="700" y="54" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Kaldi</text></switch></g><rect x="660" y="60" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 70px; margin-left: 661px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">GST Pipeline</span></div></div></div></foreignObject><text x="700" y="72" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">GST Pipeline</text></switch></g><rect x="560" y="570" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 580px; margin-left: 561px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">New recognized word is producedÂ </div></div></div></foreignObject><text x="630" y="582" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">New recognized word is producedÂ </text></switch></g><rect x="570" y="590" width="120" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 597px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>_on_word()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Call worker's word handler</div></font></div></div></div></foreignObject><text x="572" y="605" fill="#000000" font-family="Helvetica" font-size="8px">_on_word()- Call worker's wor...</text></switch></g><path d="M 690 590 L 576.37 590" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 571.12 590 L 578.12 586.5 L 576.37 590 L 578.12 593.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 550 620 L 570 620" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="620" width="120" height="80" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 627px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>_on_word()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Update last decoder message timestamp</div><div style="font-size: 8px">2. Postprocess resultÂ </div><div style="font-size: 8px">(<b>blocking thread</b>)</div><div style="font-size: 8px">3. Send result to server (STATUS = SUCCESS)</div></font></div></div></div></foreignObject><text x="432" y="635" fill="#000000" font-family="Helvetica" font-size="8px">_on_word()1. Update last deco...</text></switch></g><path d="M 550 700 L 316.37 700" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 311.12 700 L 318.12 696.5 L 316.37 700 L 318.12 703.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 570 550 L 683.63 550" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 550 L 681.88 553.5 L 683.63 550 L 681.88 546.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 570 440 L 630 440 L 683.63 440" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 440 L 681.88 443.5 L 683.63 440 L 681.88 436.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 570 250 L 630 250 L 683.63 250" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 250 L 681.88 253.5 L 683.63 250 L 681.88 246.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="0" width="200" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 10px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Kaldi GST Server Flow Diagram</div></div></div></foreignObject><text x="100" y="14" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Kaldi GST Server Flow Diagram</text></switch></g><rect x="570" y="899.17" width="120" height="70" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 906px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>end_request()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Emit EOS</div><div style="font-size: 8px"><u>_on_eos()</u></div><div style="font-size: 8px">1.Â <u>finish_request()</u><span> - reset filesink and pipeline properties to default</span></div><div style="font-size: 8px">2. Call worker's EOS handler</div><div style="font-size: 8px"><br /></div></font></div></div></div></foreignObject><text x="572" y="914" fill="#000000" font-family="Helvetica" font-size="8px">end_request()- Emit EOS...</text></switch></g><path d="M 550 900 L 570 900 L 570 899.17" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="860" width="120" height="40" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 867px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>received_message()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. End request inÂ <b>decoder</b></div><div style="font-size: 8px"><span>2. Set STATE = EOS RECEIVED</span></div></font></div></div></div></foreignObject><text x="432" y="875" fill="#000000" font-family="Helvetica" font-size="8px">received_message()1. End requ...</text></switch></g><rect x="170" y="830" width="120" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 837px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>on_message()</u></span></div><font style="font-size: 8px">- Write<span>Â message to worker</span><br /></font></div></div></div></foreignObject><text x="172" y="845" fill="#000000" font-family="Helvetica" font-size="8px">on_message()- WriteÂ message t...</text></switch></g><rect x="50" y="800" width="100" height="30" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 807px; margin-left: 52px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>send_data_to_ws()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Send EOS</div></font></div></div></div></foreignObject><text x="52" y="815" fill="#000000" font-family="Helvetica" font-size="8px">send_data_to_ws()- Send...</text></switch></g><path d="M 50 830 L 283.63 830" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 288.88 830 L 281.88 833.5 L 283.63 830 L 281.88 826.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 860 L 543.63 860" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 548.88 860 L 541.88 863.5 L 543.63 860 L 541.88 856.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 690 969.17 L 630 969.2 L 576.37 969.17" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 571.12 969.17 L 578.12 965.67 L 576.37 969.17 L 578.12 972.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="310" y="840" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 850px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">EOS messageÂ </span><span style="white-space: nowrap">is received</span></div></div></div></foreignObject><text x="430" y="852" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">EOS messageÂ is received</text></switch></g><rect x="310" y="440" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 450px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Data messageÂ </span><span style="white-space: nowrap">is received</span></div></div></div></foreignObject><text x="430" y="452" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Data messageÂ is received</text></switch></g><rect x="310" y="250" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 260px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Init message is received</span></div></div></div></foreignObject><text x="430" y="262" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Init message is received</text></switch></g><path d="M 550 970 L 570 970 L 570 969.17" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="970" width="120" height="80" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 977px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>_on_eos()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Update last decoder message timestamp</div><div style="font-size: 8px">2. Wait until processing threads finish</div><div style="font-size: 8px">3. Set STATE = FINISHED</div><div style="font-size: 8px">4. Close connection</div></font></div></div></div></foreignObject><text x="432" y="985" fill="#000000" font-family="Helvetica" font-size="8px">_on_eos()1. Update last decod...</text></switch></g><path d="M 570 1490 L 550 1490" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="570" y="1440" width="120" height="50" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 1447px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><u>_on_error()</u><br /></div><font style="font-size: 8px"><div style="font-size: 8px">1.Â <u>finish_request()</u><span> - reset filesink and pipeline properties to default</span></div><div style="font-size: 8px">2. Call worker's error handler</div><div style="font-size: 8px"><br /></div></font></div></div></div></foreignObject><text x="572" y="1455" fill="#000000" font-family="Helvetica" font-size="8px">_on_error()...</text></switch></g><path d="M 690 1440 L 576.37 1440" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 571.12 1440 L 578.12 1436.5 L 576.37 1440 L 578.12 1443.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="430" y="1490" width="120" height="70" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 1497px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>_on_error()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Set STATE = FINISHED</div><div style="font-size: 8px">2. Try to send error msg to serverÂ </div><div style="font-size: 8px">(STATUS = NOT ALLOWED)</div><div style="font-size: 8px">3. Close connection</div></font></div></div></div></foreignObject><text x="432" y="1505" fill="#000000" font-family="Helvetica" font-size="8px">_on_error()1. Set STATE = FIN...</text></switch></g><rect x="560" y="1420" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1430px; margin-left: 561px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">New recognized word is producedÂ </div></div></div></foreignObject><text x="630" y="1432" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">New recognized word is producedÂ </text></switch></g><rect x="50" y="780" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 790px; margin-left: 51px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">Finish sending data</div></div></div></foreignObject><text x="100" y="792" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Finish sending data</text></switch></g><rect x="50" y="380" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 390px; margin-left: 51px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">Start sending data</div></div></div></foreignObject><text x="100" y="392" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Start sending data</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>