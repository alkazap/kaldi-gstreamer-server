<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="741px" height="1362px" viewBox="-0.5 -0.5 741 1362" content="&lt;mxfile host=&quot;www.draw.io&quot; modified=&quot;2020-02-26T05:36:47.525Z&quot; agent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.79 Safari/537.36&quot; etag=&quot;qlgz81e9PbiG6oRuXS1L&quot; version=&quot;12.7.6&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;aqwdoti7EvADqkf6JMts&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://www.draw.io/#Halkazap%2Fkaldi-gstreamer-server%2Fmaster%2Fdrawio%2Fkaldi-gst-server-flow.svg"><defs/><g><rect x="310" y="80" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 90px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">New worker WebSocket is opened</span></div></div></div></foreignObject><text x="430" y="92" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">New worker WebSocket is opened</text></switch></g><rect x="50" y="220" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 230px; margin-left: 51px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">New client WebSocket is opened</span></div></div></div></foreignObject><text x="170" y="232" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">New client WebSocket is opened</text></switch></g><rect x="570" y="180" width="120" height="120" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 187px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><u>create_pipeline()</u><br />1. Create new GST elements<br />2. Check GST plugin path<br />3. Customize GST elements' properties<br />4. Create empty GST pipeline, add elements to it<br />5. Link elements with each other following data flow<br />6. Create bus and connect several handlers<br />7. Set pipeline STATE = READY<br /> </div></div></div></foreignObject><text x="572" y="195" fill="#000000" font-family="Helvetica" font-size="8px">create_pipeline()...</text></switch></g><rect x="570" y="390" width="120" height="100" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 397px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>init_request()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Get/set request id and media type</div><div style="font-size: 8px">2. Choose whether to write incoming data to a file</div><div style="font-size: 8px">3. Initialize GST pipeline </div><div style="font-size: 8px">(set pipeline STATE = PLAYING &amp; push empty buffer into the appsrc)</div></font></div></div></div></foreignObject><text x="572" y="405" fill="#000000" font-family="Helvetica" font-size="8px">init_request()1. Get/set requ...</text></switch></g><rect x="570" y="550" width="120" height="50" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 557px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>process_data()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Copy data to a new empty buffer at 0 offset</div><div style="font-size: 8px">2. Push buffer into the appsrc<br /></div></font></div></div></div></foreignObject><text x="572" y="565" fill="#000000" font-family="Helvetica" font-size="8px">process_data()1. Copy data to...</text></switch></g><path d="M 550 180 L 570 180" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="150" width="120" height="30" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 157px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>opened()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Set STATE = CONNECTED</div></font></div></div></div></foreignObject><text x="432" y="165" fill="#000000" font-family="Helvetica" font-size="8px">opened()- Set STATE = CONNECT...</text></switch></g><path d="M 550 390 L 570 390" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="320" width="120" height="70" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 327px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>received_message()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px"><span>1. Initialize request in </span></div><b>decoder</b><div style="font-size: 8px">2. Start timeout guard in <b>new thread</b></div><div style="font-size: 8px">3. Set STATE = INITIALIZED</div></font></div></div></div></foreignObject><text x="432" y="335" fill="#000000" font-family="Helvetica" font-size="8px">received_message()1. Initiali...</text></switch></g><path d="M 550 550 L 570 550" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="510" width="120" height="40" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 517px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>received_message()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Process data in <b>decoder</b></div><div style="font-size: 8px"><span>2. Set STATE = PROCESSING</span></div></font></div></div></div></foreignObject><text x="432" y="525" fill="#000000" font-family="Helvetica" font-size="8px">received_message()1. Process...</text></switch></g><rect x="50" y="780" width="100" height="30" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 787px; margin-left: 52px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>received_message()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Get response</div></font></div></div></div></foreignObject><text x="52" y="795" fill="#000000" font-family="Helvetica" font-size="8px">received_message()- Get...</text></switch></g><rect x="50" y="320" width="100" height="40" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 327px; margin-left: 52px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>opened()</u></span></div><div style="font-size: 8px"><span style="font-size: 8px">- Start <u>send_data_to_ws()</u> in <b>new thread</b></span></div></div></div></div></foreignObject><text x="52" y="335" fill="#000000" font-family="Helvetica" font-size="8px">opened()...</text></switch></g><rect x="170" y="480" width="120" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 487px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>on_message()</u></span></div><font style="font-size: 8px">- Write<span> message to worker</span><br /></font></div></div></div></foreignObject><text x="172" y="495" fill="#000000" font-family="Helvetica" font-size="8px">on_message()- Write message t...</text></switch></g><path d="M 298 1360 L 298 40 M 302 40 L 302 1360 M 302 40" fill="none" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="all"/><rect x="280" y="0" width="40" height="20" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 10px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Server</div></div></div></foreignObject><text x="300" y="14" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Server</text></switch></g><rect x="540" y="40" width="40" height="20" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 50px; margin-left: 541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Worker</div></div></div></foreignObject><text x="560" y="54" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Worker</text></switch></g><rect x="20" y="180" width="40" height="20" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 190px; margin-left: 21px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Client</div></div></div></foreignObject><text x="40" y="194" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Client</text></switch></g><path d="M 40 1360 L 40 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 560 1360 L 560 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><rect x="170" y="240" width="120" height="80" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 247px; margin-left: 171px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px"><u>open()</u></span></div><font style="font-size: 8px"><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">1. Generate a random UUID for this client</span></div><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">2. Get/set available worker for this </span><span>client, send status update</span></div><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">3. Set this client for worker</span></div><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">4. Write message to worker</span></div></font></div></div></div></foreignObject><text x="230" y="255" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle">open()1. Generate a random UU...</text></switch></g><rect x="310" y="100" width="100" height="50" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 107px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px"><u>open()</u></span></div><font style="font-size: 8px"><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">- Add this worker to available workers list, send status update</span></div></font></div></div></div></foreignObject><text x="360" y="115" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle">open()- Add this worker...</text></switch></g><path d="M 550 100 L 316.37 100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 311.12 100 L 318.12 96.5 L 316.37 100 L 318.12 103.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="200" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 210px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">WebSocketClient</span></div></div></div></foreignObject><text x="40" y="212" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">WebSocketClient</text></switch></g><rect x="520" y="60" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 70px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">WebSocketClient</span></div></div></div></foreignObject><text x="560" y="72" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">WebSocketClient</text></switch></g><rect x="260" y="20" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 30px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">WebSocketHandler</span></div></div></div></foreignObject><text x="300" y="32" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">WebSocketHandler</text></switch></g><rect x="310" y="750" width="100" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 757px; margin-left: 312px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>on_message()</u></span></div><font style="font-size: 8px">- Write<span> message to client</span><br /></font></div></div></div></foreignObject><text x="312" y="765" fill="#000000" font-family="Helvetica" font-size="8px">on_message()- Write mess...</text></switch></g><path d="M 310 320 L 543.63 320" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 548.88 320 L 541.88 323.5 L 543.63 320 L 541.88 316.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 290 780 L 56.37 780" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 51.12 780 L 58.12 776.5 L 56.37 780 L 58.12 783.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="600" y="140" width="60" height="20" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 150px; margin-left: 601px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Decoder (GMM)</div></div></div></foreignObject><text x="630" y="153" fill="#000000" font-family="Helvetica" font-size="10px" text-anchor="middle">Decoder (GMM)</text></switch></g><rect x="50" y="450" width="100" height="30" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 457px; margin-left: 52px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>send_data_to_ws()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Send data to server</div></font></div></div></div></foreignObject><text x="52" y="465" fill="#000000" font-family="Helvetica" font-size="8px">send_data_to_ws()- Send...</text></switch></g><path d="M 50 480 L 283.63 480" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 288.88 480 L 281.88 483.5 L 283.63 480 L 281.88 476.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 510 L 543.63 510" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 548.88 510 L 541.88 513.5 L 543.63 510 L 541.88 506.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="600" y="160" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 170px; margin-left: 601px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Object</span></div></div></div></foreignObject><text x="630" y="172" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Object</text></switch></g><path d="M 700 1360 L 700 130" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><rect x="680" y="90" width="40" height="20" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 100px; margin-left: 681px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Kaldi</div></div></div></foreignObject><text x="700" y="104" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Kaldi</text></switch></g><rect x="660" y="110" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 120px; margin-left: 661px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">GST Pipeline</span></div></div></div></foreignObject><text x="700" y="122" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">GST Pipeline</text></switch></g><rect x="560" y="620" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 630px; margin-left: 561px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">New recognized word is produced </div></div></div></foreignObject><text x="630" y="632" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">New recognized word is produced </text></switch></g><rect x="570" y="640" width="120" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 647px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>_on_word()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Call worker's word handler</div></font></div></div></div></foreignObject><text x="572" y="655" fill="#000000" font-family="Helvetica" font-size="8px">_on_word()- Call worker's wor...</text></switch></g><path d="M 690 640 L 576.37 640" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 571.12 640 L 578.12 636.5 L 576.37 640 L 578.12 643.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 550 670 L 570 670" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="670" width="120" height="80" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 677px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>_on_word()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Update last decoder message timestamp</div><div style="font-size: 8px">2. Postprocess result </div><div style="font-size: 8px">(<b>blocking thread</b>)</div><div style="font-size: 8px">3. Send result to server (STATUS = SUCCESS)</div></font></div></div></div></foreignObject><text x="432" y="685" fill="#000000" font-family="Helvetica" font-size="8px">_on_word()1. Update last deco...</text></switch></g><path d="M 550 750 L 316.37 750" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 311.12 750 L 318.12 746.5 L 316.37 750 L 318.12 753.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 570 600 L 683.63 600" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 600 L 681.88 603.5 L 683.63 600 L 681.88 596.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 570 490 L 630 490 L 683.63 490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 490 L 681.88 493.5 L 683.63 490 L 681.88 486.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 570 300 L 630 300 L 683.63 300" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 300 L 681.88 303.5 L 683.63 300 L 681.88 296.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="0" width="200" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 10px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Kaldi GST Server Flow Diagram</div></div></div></foreignObject><text x="100" y="14" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Kaldi GST Server Flow Diagram</text></switch></g><rect x="570" y="949.17" width="120" height="70" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 956px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>end_request()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Emit EOS</div><div style="font-size: 8px"><u>_on_eos()</u></div><div style="font-size: 8px">1. <u>finish_request()</u><span> - reset filesink and pipeline properties to default</span></div><div style="font-size: 8px">2. Call worker's EOS handler</div><div style="font-size: 8px"><br /></div></font></div></div></div></foreignObject><text x="572" y="964" fill="#000000" font-family="Helvetica" font-size="8px">end_request()- Emit EOS...</text></switch></g><path d="M 550 950 L 570 950 L 570 949.17" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="910" width="120" height="40" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 917px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>received_message()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. End request in <b>decoder</b></div><div style="font-size: 8px"><span>2. Set STATE = EOS RECEIVED</span></div></font></div></div></div></foreignObject><text x="432" y="925" fill="#000000" font-family="Helvetica" font-size="8px">received_message()1. End requ...</text></switch></g><rect x="170" y="880" width="120" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 887px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>on_message()</u></span></div><font style="font-size: 8px">- Write<span> message to worker</span><br /></font></div></div></div></foreignObject><text x="172" y="895" fill="#000000" font-family="Helvetica" font-size="8px">on_message()- Write message t...</text></switch></g><rect x="50" y="850" width="100" height="30" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 857px; margin-left: 52px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>send_data_to_ws()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Send EOS</div></font></div></div></div></foreignObject><text x="52" y="865" fill="#000000" font-family="Helvetica" font-size="8px">send_data_to_ws()- Send...</text></switch></g><path d="M 50 880 L 283.63 880" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 288.88 880 L 281.88 883.5 L 283.63 880 L 281.88 876.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 910 L 543.63 910" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 548.88 910 L 541.88 913.5 L 543.63 910 L 541.88 906.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 690 1019.17 L 630 1019.2 L 576.37 1019.17" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 571.12 1019.17 L 578.12 1015.67 L 576.37 1019.17 L 578.12 1022.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="310" y="890" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 900px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">EOS message </span><span style="white-space: nowrap">is received</span></div></div></div></foreignObject><text x="430" y="902" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">EOS message is received</text></switch></g><rect x="310" y="490" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 500px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Data message </span><span style="white-space: nowrap">is received</span></div></div></div></foreignObject><text x="430" y="502" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Data message is received</text></switch></g><rect x="310" y="300" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 310px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Init message is received</span></div></div></div></foreignObject><text x="430" y="312" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Init message is received</text></switch></g><path d="M 550 1020 L 570 1020 L 570 1019.17" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="1020" width="120" height="80" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 1027px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>_on_eos()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Update last decoder message timestamp</div><div style="font-size: 8px">2. Wait until processing threads finish</div><div style="font-size: 8px">3. Set STATE = FINISHED</div><div style="font-size: 8px">4. Close connection</div></font></div></div></div></foreignObject><text x="432" y="1035" fill="#000000" font-family="Helvetica" font-size="8px">_on_eos()1. Update last decod...</text></switch></g><path d="M 570 1210 L 550 1210" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="570" y="1160" width="120" height="50" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 1167px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><u>_on_error()</u><br /></div><font style="font-size: 8px"><div style="font-size: 8px">1. <u>finish_request()</u><span> - reset filesink and pipeline properties to default</span></div><div style="font-size: 8px">2. Call worker's error handler</div><div style="font-size: 8px"><br /></div></font></div></div></div></foreignObject><text x="572" y="1175" fill="#000000" font-family="Helvetica" font-size="8px">_on_error()...</text></switch></g><path d="M 690 1160 L 576.37 1160" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 571.12 1160 L 578.12 1156.5 L 576.37 1160 L 578.12 1163.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="430" y="1210" width="120" height="70" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 1217px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>_on_error()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Set STATE = FINISHED</div><div style="font-size: 8px">2. Try to send error msg to server </div><div style="font-size: 8px">(STATUS = NOT ALLOWED)</div><div style="font-size: 8px">3. Close connection</div></font></div></div></div></foreignObject><text x="432" y="1225" fill="#000000" font-family="Helvetica" font-size="8px">_on_error()1. Set STATE = FIN...</text></switch></g><rect x="560" y="1140" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1150px; margin-left: 561px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">New recognized word is produced </div></div></div></foreignObject><text x="630" y="1152" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">New recognized word is produced </text></switch></g><rect x="50" y="830" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 840px; margin-left: 51px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">Finish sending data</div></div></div></foreignObject><text x="100" y="842" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Finish sending data</text></switch></g><rect x="50" y="430" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 440px; margin-left: 51px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">Start sending data</div></div></div></foreignObject><text x="100" y="442" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Start sending data</text></switch></g><path d="M 310 150 L 500 150 L 543.63 150" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 548.88 150 L 541.88 153.5 L 543.63 150 L 541.88 146.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 290 320 L 100 320 L 56.37 320" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 51.12 320 L 58.12 316.5 L 56.37 320 L 58.12 323.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 50 240 L 200 240 L 283.63 240" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 288.88 240 L 281.88 243.5 L 283.63 240 L 281.88 236.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="430" y="130" width="120" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 140px; margin-left: 431px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Handshake success</span></div></div></div></foreignObject><text x="490" y="142" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Handshake success</text></switch></g><rect x="50" y="300" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 310px; margin-left: 51px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Handshake success</span></div></div></div></foreignObject><text x="100" y="312" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Handshake success</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>