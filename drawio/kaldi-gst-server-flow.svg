<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="741px" height="1363px" viewBox="-0.5 -0.5 741 1363" content="&lt;mxfile host=&quot;www.draw.io&quot; modified=&quot;2020-02-26T07:17:51.915Z&quot; agent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.79 Safari/537.36&quot; etag=&quot;20NCShABBjhtEcvrna0b&quot; version=&quot;12.7.6&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;aqwdoti7EvADqkf6JMts&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://www.draw.io/#Halkazap%2Fkaldi-gstreamer-server%2Fmaster%2Fdrawio%2Fkaldi-gst-server-flow.svg"><defs/><g><rect x="310" y="80" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 90px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">New worker WebSocket is opened</span></div></div></div></foreignObject><text x="430" y="92" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">New worker WebSocket is opened</text></switch></g><rect x="50" y="220" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 230px; margin-left: 51px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">New client WebSocket is opened</span></div></div></div></foreignObject><text x="170" y="232" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">New client WebSocket is opened</text></switch></g><rect x="570" y="180" width="120" height="120" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 187px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><u>create_pipeline()</u><br />1. Create new GST elements<br />2. Check GST plugin path<br />3. Customize GST elements' properties<br />4. Create empty GST pipeline, add elements to it<br />5. Link elements with each other following data flow<br />6. Create bus and connect several handlers<br />7. Set pipeline STATE = READY<br /> </div></div></div></foreignObject><text x="572" y="195" fill="#000000" font-family="Helvetica" font-size="8px">create_pipeline()...</text></switch></g><rect x="570" y="390" width="120" height="100" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 397px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>init_request()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Get/set request id and media type</div><div style="font-size: 8px">2. Choose whether to write incoming data to a file</div><div style="font-size: 8px">3. Initialize GST pipeline </div><div style="font-size: 8px">(set pipeline STATE = PLAYING &amp; push empty buffer into the appsrc)</div></font></div></div></div></foreignObject><text x="572" y="405" fill="#000000" font-family="Helvetica" font-size="8px">init_request()1. Get/set requ...</text></switch></g><rect x="570" y="550" width="120" height="50" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 557px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>process_data()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Copy data to a new empty buffer at 0 offset</div><div style="font-size: 8px">2. Push buffer into the appsrc<br /></div></font></div></div></div></foreignObject><text x="572" y="565" fill="#000000" font-family="Helvetica" font-size="8px">process_data()1. Copy data to...</text></switch></g><path d="M 550 180 L 570 180" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="150" width="120" height="30" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 157px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>opened()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Set STATE = CONNECTED</div></font></div></div></div></foreignObject><text x="432" y="165" fill="#000000" font-family="Helvetica" font-size="8px">opened()- Set STATE = CONNECT...</text></switch></g><path d="M 550 390 L 570 390" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="320" width="120" height="70" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 327px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>received_message()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px"><span>1. Initialize request in </span></div><b>decoder</b><div style="font-size: 8px">2. Start timeout guard in <b>new thread</b></div><div style="font-size: 8px">3. Set STATE = INITIALIZED</div></font></div></div></div></foreignObject><text x="432" y="335" fill="#000000" font-family="Helvetica" font-size="8px">received_message()1. Initiali...</text></switch></g><path d="M 550 550 L 570 550" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="510" width="120" height="40" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 517px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>received_message()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Process data in <b>decoder</b></div><div style="font-size: 8px"><span>2. Set STATE = PROCESSING</span></div></font></div></div></div></foreignObject><text x="432" y="525" fill="#000000" font-family="Helvetica" font-size="8px">received_message()1. Process...</text></switch></g><rect x="50" y="780" width="100" height="30" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 787px; margin-left: 52px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>received_message()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Get response</div></font></div></div></div></foreignObject><text x="52" y="795" fill="#000000" font-family="Helvetica" font-size="8px">received_message()- Get...</text></switch></g><rect x="50" y="320" width="100" height="40" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 327px; margin-left: 52px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>opened()</u></span></div><div style="font-size: 8px"><span style="font-size: 8px">- Start <u>send_data_to_ws()</u> in <b>new thread</b></span></div></div></div></div></foreignObject><text x="52" y="335" fill="#000000" font-family="Helvetica" font-size="8px">opened()...</text></switch></g><rect x="170" y="480" width="120" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 487px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>on_message()</u></span></div><font style="font-size: 8px">- Write<span> message to worker</span><br /></font></div></div></div></foreignObject><text x="172" y="495" fill="#000000" font-family="Helvetica" font-size="8px">on_message()- Write message t...</text></switch></g><path d="M 298 1360 L 298 40 M 302 40 L 302 1360 M 302 40" fill="none" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="all"/><rect x="280" y="0" width="40" height="20" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 10px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Server</div></div></div></foreignObject><text x="300" y="14" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Server</text></switch></g><rect x="540" y="40" width="40" height="20" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 50px; margin-left: 541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Worker</div></div></div></foreignObject><text x="560" y="54" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Worker</text></switch></g><rect x="20" y="180" width="40" height="20" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 190px; margin-left: 21px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Client</div></div></div></foreignObject><text x="40" y="194" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Client</text></switch></g><path d="M 40 1360 L 40 220" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 560 1360 L 560 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><rect x="170" y="240" width="120" height="80" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 247px; margin-left: 171px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px"><u>open()</u></span></div><font style="font-size: 8px"><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">1. Generate a random UUID for this client</span></div><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">2. Get/set available worker for this </span><span>client, send status update</span></div><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">3. Set this client for worker</span></div><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">4. Write message to worker</span></div></font></div></div></div></foreignObject><text x="230" y="255" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle">open()1. Generate a random UU...</text></switch></g><rect x="310" y="100" width="100" height="50" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 107px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px"><u>open()</u></span></div><font style="font-size: 8px"><div style="text-align: left ; font-size: 8px"><span style="font-size: 8px">- Add this worker to available workers list, send status update</span></div></font></div></div></div></foreignObject><text x="360" y="115" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle">open()- Add this worker...</text></switch></g><path d="M 550 100 L 316.37 100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 311.12 100 L 318.12 96.5 L 316.37 100 L 318.12 103.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="200" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 210px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">WebSocketClient</span></div></div></div></foreignObject><text x="40" y="212" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">WebSocketClient</text></switch></g><rect x="520" y="60" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 70px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">WebSocketClient</span></div></div></div></foreignObject><text x="560" y="72" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">WebSocketClient</text></switch></g><rect x="260" y="20" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 30px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">WebSocketHandler</span></div></div></div></foreignObject><text x="300" y="32" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">WebSocketHandler</text></switch></g><rect x="310" y="750" width="100" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 757px; margin-left: 312px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>on_message()</u></span></div><font style="font-size: 8px">- Write<span> message to client</span><br /></font></div></div></div></foreignObject><text x="312" y="765" fill="#000000" font-family="Helvetica" font-size="8px">on_message()- Write mess...</text></switch></g><path d="M 310 320 L 543.63 320" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 548.88 320 L 541.88 323.5 L 543.63 320 L 541.88 316.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 290 780 L 56.37 780" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 51.12 780 L 58.12 776.5 L 56.37 780 L 58.12 783.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="600" y="130" width="60" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 145px; margin-left: 601px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Decoder (GMM)</div></div></div></foreignObject><text x="630" y="148" fill="#000000" font-family="Helvetica" font-size="10px" text-anchor="middle">Decoder (GMM)</text></switch></g><rect x="50" y="450" width="100" height="30" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 457px; margin-left: 52px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>send_data_to_ws()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Send data to server</div></font></div></div></div></foreignObject><text x="52" y="465" fill="#000000" font-family="Helvetica" font-size="8px">send_data_to_ws()- Send...</text></switch></g><path d="M 50 480 L 283.63 480" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 288.88 480 L 281.88 483.5 L 283.63 480 L 281.88 476.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 510 L 543.63 510" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 548.88 510 L 541.88 513.5 L 543.63 510 L 541.88 506.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="600" y="160" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 170px; margin-left: 601px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Object</span></div></div></div></foreignObject><text x="630" y="172" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Object</text></switch></g><path d="M 700 1360 L 700 130" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><rect x="680" y="90" width="40" height="20" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 100px; margin-left: 681px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Kaldi</div></div></div></foreignObject><text x="700" y="104" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Kaldi</text></switch></g><rect x="660" y="110" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 120px; margin-left: 661px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">GST Pipeline</span></div></div></div></foreignObject><text x="700" y="122" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">GST Pipeline</text></switch></g><rect x="560" y="620" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 630px; margin-left: 561px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">New recognized word is produced </div></div></div></foreignObject><text x="630" y="632" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">New recognized word is produced </text></switch></g><rect x="570" y="640" width="120" height="30" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 647px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>_on_word()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Call worker's word handler</div></font></div></div></div></foreignObject><text x="572" y="655" fill="#000000" font-family="Helvetica" font-size="8px">_on_word()- Call worker's wor...</text></switch></g><path d="M 690 640 L 576.37 640" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 571.12 640 L 578.12 636.5 L 576.37 640 L 578.12 643.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 550 670 L 570 670" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="670" width="120" height="80" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 677px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>_on_word()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Update last decoder message timestamp</div><div style="font-size: 8px">2. Postprocess result </div><div style="font-size: 8px">(<b>blocking thread</b>)</div><div style="font-size: 8px">3. Send result to server (STATUS = SUCCESS)</div></font></div></div></div></foreignObject><text x="432" y="685" fill="#000000" font-family="Helvetica" font-size="8px">_on_word()1. Update last deco...</text></switch></g><path d="M 550 750 L 316.37 750" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 311.12 750 L 318.12 746.5 L 316.37 750 L 318.12 753.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 570 490 L 630 490 L 683.63 490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 490 L 681.88 493.5 L 683.63 490 L 681.88 486.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 570 300 L 630 300 L 683.63 300" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 300 L 681.88 303.5 L 683.63 300 L 681.88 296.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="0" width="200" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 10px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Kaldi GST Server Flow Diagram</div></div></div></foreignObject><text x="100" y="14" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Kaldi GST Server Flow Diagram</text></switch></g><rect x="570" y="949.17" width="120" height="70" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 956px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>end_request()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Emit EOS</div><div style="font-size: 8px"><u>_on_eos()</u></div><div style="font-size: 8px">1. <u>finish_request()</u><span> - reset filesink and pipeline properties to default</span></div><div style="font-size: 8px">2. Call worker's EOS handler</div><div style="font-size: 8px"><br /></div></font></div></div></div></foreignObject><text x="572" y="964" fill="#000000" font-family="Helvetica" font-size="8px">end_request()- Emit EOS...</text></switch></g><path d="M 550 950 L 570 950 L 570 949.17" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="910" width="120" height="40" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 917px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>received_message()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. End request in <b>decoder</b></div><div style="font-size: 8px"><span>2. Set STATE = EOS RECEIVED</span></div></font></div></div></div></foreignObject><text x="432" y="925" fill="#000000" font-family="Helvetica" font-size="8px">received_message()1. End requ...</text></switch></g><rect x="170" y="880" width="120" height="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 887px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>on_message()</u></span></div><font style="font-size: 8px">- Write<span> message to worker</span><br /></font></div></div></div></foreignObject><text x="172" y="895" fill="#000000" font-family="Helvetica" font-size="8px">on_message()- Write message t...</text></switch></g><rect x="50" y="850" width="100" height="30" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 857px; margin-left: 52px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>send_data_to_ws()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">- Send EOS</div></font></div></div></div></foreignObject><text x="52" y="865" fill="#000000" font-family="Helvetica" font-size="8px">send_data_to_ws()- Send...</text></switch></g><path d="M 50 880 L 283.63 880" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 288.88 880 L 281.88 883.5 L 283.63 880 L 281.88 876.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 310 910 L 543.63 910" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 548.88 910 L 541.88 913.5 L 543.63 910 L 541.88 906.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 690 1019.17 L 630 1019.18 L 576.37 1019.17" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 571.12 1019.17 L 578.12 1015.67 L 576.37 1019.17 L 578.12 1022.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="310" y="890" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 900px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">EOS message </span><span style="white-space: nowrap">is received</span></div></div></div></foreignObject><text x="430" y="902" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">EOS message is received</text></switch></g><rect x="310" y="490" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 500px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Data message </span><span style="white-space: nowrap">is received</span></div></div></div></foreignObject><text x="430" y="502" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Data message is received</text></switch></g><rect x="310" y="300" width="240" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 310px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Init message is received</span></div></div></div></foreignObject><text x="430" y="312" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Init message is received</text></switch></g><path d="M 550 1020 L 570 1020 L 570 1019.17" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="430" y="1020" width="120" height="80" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 1027px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>_on_eos()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Update last decoder message timestamp</div><div style="font-size: 8px">2. Wait until processing threads finish</div><div style="font-size: 8px">3. Set STATE = FINISHED</div><div style="font-size: 8px">4. Close connection</div></font></div></div></div></foreignObject><text x="432" y="1035" fill="#000000" font-family="Helvetica" font-size="8px">_on_eos()1. Update last decod...</text></switch></g><path d="M 570 1210 L 550 1210" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><rect x="570" y="1160" width="120" height="50" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 1167px; margin-left: 572px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><u>_on_error()</u><br /></div><font style="font-size: 8px"><div style="font-size: 8px">1. <u>finish_request()</u><span> - reset filesink and pipeline properties to default</span></div><div style="font-size: 8px">2. Call worker's error handler</div><div style="font-size: 8px"><br /></div></font></div></div></div></foreignObject><text x="572" y="1175" fill="#000000" font-family="Helvetica" font-size="8px">_on_error()...</text></switch></g><path d="M 690 1160 L 576.37 1160" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 571.12 1160 L 578.12 1156.5 L 576.37 1160 L 578.12 1163.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="430" y="1210" width="120" height="70" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 118px; height: 1px; padding-top: 1217px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 8px"><span style="font-size: 8px"><u>_on_error()</u></span></div><font style="font-size: 8px"><div style="font-size: 8px">1. Set STATE = FINISHED</div><div style="font-size: 8px">2. Try to send error msg to server </div><div style="font-size: 8px">(STATUS = NOT ALLOWED)</div><div style="font-size: 8px">3. Close connection</div></font></div></div></div></foreignObject><text x="432" y="1225" fill="#000000" font-family="Helvetica" font-size="8px">_on_error()1. Set STATE = FIN...</text></switch></g><rect x="560" y="1140" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1150px; margin-left: 561px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">New recognized word is produced </div></div></div></foreignObject><text x="630" y="1152" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">New recognized word is produced </text></switch></g><rect x="50" y="830" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 840px; margin-left: 51px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">Finish sending data</div></div></div></foreignObject><text x="100" y="842" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Finish sending data</text></switch></g><rect x="50" y="430" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 440px; margin-left: 51px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; ">Start sending data</div></div></div></foreignObject><text x="100" y="442" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Start sending data</text></switch></g><path d="M 310 150 L 500 150 L 543.63 150" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 548.88 150 L 541.88 153.5 L 543.63 150 L 541.88 146.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 290 320 L 100 320 L 56.37 320" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 51.12 320 L 58.12 316.5 L 56.37 320 L 58.12 323.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 50 240 L 200 240 L 283.63 240" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 288.88 240 L 281.88 243.5 L 283.63 240 L 281.88 236.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="430" y="130" width="120" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 140px; margin-left: 431px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Handshake success</span></div></div></div></foreignObject><text x="490" y="142" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Handshake success</text></switch></g><rect x="50" y="300" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 310px; margin-left: 51px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-style: italic; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">Handshake success</span></div></div></div></foreignObject><text x="100" y="312" fill="#000000" font-family="Helvetica" font-size="8px" text-anchor="middle" font-style="italic">Handshake success</text></switch></g><path d="M 570 600 L 690 600 L 683.63 600" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688.88 600 L 681.88 603.5 L 683.63 600 L 681.88 596.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>